"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[592],{2759:(p,l,r)=>{r.d(l,{J:()=>U});var n=r(9862),i=r(6689),_=r(9397),c=r(7398),d=r(4567),E=r(9413),m=r(6898);let U=(()=>{class o{constructor(){this.http=(0,i.f3M)(n.eN),this.authService=(0,i.f3M)(d.e),this.baseUrl=E.N.base_url,this.usuario=this.authService.usuario}get token(){return localStorage.getItem("token")||""}get headers(){return(new n.WM).set("Authorization",`Bearer ${this.token}`)}get uid(){return this.usuario.uid||""}crearUsuario(s){return this.http.post(`${this.baseUrl}/usuarios`,s).pipe((0,_.b)(t=>{localStorage.setItem("token",t.token),localStorage.setItem("menu",JSON.stringify(t.menu))}))}actualizarUsuario(s){const u={...s,rol:this.usuario.rol};return this.http.put(`${this.baseUrl}/usuarios/${this.uid}`,u,{headers:this.headers})}guardarUsuario(s){return this.http.put(`${this.baseUrl}/usuarios/${s.uid}`,s,{headers:this.headers})}cargarUsuarios(s=0,t=5){return this.http.get(`${this.baseUrl}/usuarios`,{headers:this.headers,params:{desde:s,limite:t}}).pipe((0,c.U)(h=>{const g=h.usuarios.map(e=>new m.b(e.nombre,e.email,e.password,e.img,e.rol,e.google,e.uid));return{...h,usuarios:g}}))}eliminarUsuario(s){return this.http.delete(`${this.baseUrl}/usuarios/${s.uid}`,{headers:this.headers})}static#t=this.\u0275fac=function(t){return new(t||o)};static#s=this.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]);