"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[683],{3683:(E,u,a)=>{a.r(u),a.d(u,{AuthModule:()=>w});var m=a(6814),n=a(95),l=a(9284),e=a(6689);let p=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-layout-page"]],decls:1,vars:0,template:function(o,i){1&o&&e._UZ(0,"router-outlet")},dependencies:[l.lC]})}return t})();var f=a(3519),g=a.n(f);let d=(()=>{class t{constructor(){this.firstNameAndLastnamePattern="([a-zA-Z]+) ([a-zA-Z]+)",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"}isInvalidField(r,o){return r.controls[o].errors&&r.controls[o].touched}getFieldError(r,o){if(!r.controls[o])return null;const i=r.controls[o].errors||{};for(const s of Object.keys(i))switch(s){case"required":return"Este campo es requerido";case"minlength":return"Este campo debe tener al menos 3 caracteres";case"min":return"El precio m\xednimo es de 0";case"max":return"El valor m\xe1ximo es de 100";case"pattern":return"Debe ser en formato de nombre y apellido";default:return"Error desconocido"}return null}isFieldOneEqualToFieldTwo(r,o){return i=>{const s=i.get(r)?.value,M=i.get(o)?.value;return s!==M?(i.get(o)?.setErrors({notEqual:!0}),{notEqual:!0}):(i.get(o)?.setErrors(null),null)}}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h=a(4567),v=a(9413);const b=["googleBtn"];function Z(t,c){1&t&&(e.TgZ(0,"span",34),e._uU(1," Debe ser un email v\xe1lido "),e.qZA())}function x(t,c){1&t&&(e.TgZ(0,"span",34),e._uU(1," La contrase\xf1a debe tener al menos 6 caracteres "),e.qZA())}let _=(()=>{class t{constructor(){this.router=(0,e.f3M)(l.F0),this.ngZone=(0,e.f3M)(e.R0b),this.fb=(0,e.f3M)(n.qu),this.formValidatorsService=(0,e.f3M)(d),this.authService=(0,e.f3M)(h.e),this.loginForm=this.fb.group({email:[localStorage.getItem("email")||"",[n.kI.required,n.kI.pattern(this.formValidatorsService.emailPattern)]],password:["",[n.kI.required,n.kI.minLength(6)]],remember:[!1]})}ngAfterViewInit(){this.googleInit()}googleInit(){google.accounts.id.initialize({client_id:v.N.GOOGLE_CLIENT_ID,callback:r=>this.handleCredentialResponse(r)}),google.accounts.id.renderButton(this.googleBtn.nativeElement,{theme:"outline",size:"large"})}handleCredentialResponse(r){this.authService.loginGoogle(r.credential).subscribe({next:o=>{this.ngZone.run(()=>{this.router.navigateByUrl("/dashboard")})},error:o=>{g().fire("Error",o.error.msg,"error")}})}isInvalidField(r){return this.formValidatorsService.isInvalidField(this.loginForm,r)}onLogin(){this.loginForm.invalid?this.loginForm.markAllAsTouched():this.authService.login(this.loginForm.value).subscribe({next:r=>{this.loginForm.get("remember")?.value?localStorage.setItem("email",this.loginForm.get("email")?.value):localStorage.removeItem("email"),this.ngZone.run(()=>{this.router.navigateByUrl("/dashboard")})},error:r=>{g().fire("Error",r.error.msg,"error")}})}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-login-page"]],viewQuery:function(o,i){if(1&o&&e.Gf(b,5),2&o){let s;e.iGM(s=e.CRH())&&(i.googleBtn=s.first)}},decls:55,vars:3,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(./assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["id","loginform",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","./assets/images/logo-icon.png","alt","Home"],["src","./assets/images/logo-text.png","alt","Home"],[1,"form-group","m-t-40"],[1,"col-xs-12"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"form-group"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","pull-left","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","remember",1,"filled-in","chk-col-light-blue"],["for","checkbox-signup"],["href","javascript:void(0)","id","to-recover",1,"text-dark","pull-right"],[1,"fa","fa-lock","m-r-5"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","btn-rounded"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","m-t-10","mb-4","text-center"],[1,"text-center"],["id","google-btn"],["googleBtn",""],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/auth/register",1,"text-primary","m-l-5"],["id","recoverform","action","index.html",1,"form-horizontal"],[1,"text-muted"],["type","text","required","","placeholder","Email",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"],[1,"form-text","text-danger"]],template:function(o,i){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return i.onLogin()}),e.TgZ(4,"a",4),e._UZ(5,"img",5)(6,"br")(7,"img",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",8),e._UZ(10,"input",9),e.YNc(11,Z,2,0,"span",10),e.qZA()(),e.TgZ(12,"div",11)(13,"div",8),e._UZ(14,"input",12),e.YNc(15,x,2,0,"span",10),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14)(18,"div",15),e._UZ(19,"input",16),e.TgZ(20,"label",17),e._uU(21," Recuerdame "),e.qZA()(),e.TgZ(22,"a",18),e._UZ(23,"i",19),e._uU(24," \xbfOlvidaste tu contrase\xf1a? "),e.qZA()()(),e.TgZ(25,"div",20)(26,"div",8)(27,"button",21),e._uU(28,"Iniciar Sesi\xf3n"),e.qZA()()(),e.TgZ(29,"div",22)(30,"div",23)(31,"p",24),e._uU(32,"O inicia sesi\xf3n con"),e.qZA(),e._UZ(33,"div",25,26),e.qZA()(),e.TgZ(35,"div",27)(36,"div",28),e._uU(37," \xbfNo tienes una cuenta? "),e.TgZ(38,"a",29)(39,"b"),e._uU(40,"Registrate"),e.qZA()()()()(),e.TgZ(41,"form",30)(42,"div",11)(43,"div",8)(44,"h3"),e._uU(45,"Recover Password"),e.qZA(),e.TgZ(46,"p",31),e._uU(47,"Enter your Email and instructions will be sent to you! "),e.qZA()()(),e.TgZ(48,"div",11)(49,"div",8),e._UZ(50,"input",32),e.qZA()(),e.TgZ(51,"div",20)(52,"div",8)(53,"button",33),e._uU(54," Reset "),e.qZA()()()()()()()),2&o&&(e.xp6(3),e.Q6J("formGroup",i.loginForm),e.xp6(8),e.Q6J("ngIf",i.isInvalidField("email")),e.xp6(4),e.Q6J("ngIf",i.isInvalidField("password")))},dependencies:[m.O5,l.rH,n._Y,n.Fj,n.Wl,n.JJ,n.JL,n.sg,n.u],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}#google-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})}return t})();var C=a(2759);function F(t,c){if(1&t&&(e.TgZ(0,"span",27),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.getFieldError("nombre")," ")}}function T(t,c){1&t&&(e.TgZ(0,"span",27),e._uU(1," Debe ser un email v\xe1lido "),e.qZA())}function y(t,c){1&t&&(e.TgZ(0,"span",27),e._uU(1," La contrase\xf1a debe tener al menos 6 caracteres "),e.qZA())}function A(t,c){1&t&&(e.TgZ(0,"span",27),e._uU(1," Las contrase\xf1as deben de ser iguales "),e.qZA())}function I(t,c){1&t&&(e.TgZ(0,"span",27),e._uU(1," Debes aceptar los terminos y condiciones "),e.qZA())}const k=[{path:"",component:p,children:[{path:"login",component:_},{path:"register",component:(()=>{class t{constructor(){this.fb=(0,e.f3M)(n.qu),this.formValidatorsService=(0,e.f3M)(d),this.usuariosService=(0,e.f3M)(C.J),this.router=(0,e.f3M)(l.F0),this.registerForm=this.fb.group({nombre:["Raul Contreras",[n.kI.required,n.kI.pattern(this.formValidatorsService.firstNameAndLastnamePattern)]],email:["raul@gmail.com",[n.kI.required,n.kI.pattern(this.formValidatorsService.emailPattern)]],password:["123456",[n.kI.required,n.kI.minLength(6)]],password2:["123456",[n.kI.required]],terminos:[!1,[n.kI.requiredTrue]]},{validators:[this.formValidatorsService.isFieldOneEqualToFieldTwo("password","password2")]})}isInvalidField(r){return this.formValidatorsService.isInvalidField(this.registerForm,r)}getFieldError(r){return this.formValidatorsService.getFieldError(this.registerForm,r)}onRegister(){this.registerForm.invalid?this.registerForm.markAllAsTouched():this.usuariosService.crearUsuario(this.registerForm.value).subscribe({next:r=>{g().fire("Exito","Usuario creado correctamente","success"),this.router.navigateByUrl("/dashboard")},error:r=>{g().fire("Error",r.error.errors[0].msg,"error")}})}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register-page"]],decls:48,vars:6,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(./assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["id","loginform",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","",1,"text-center","db"],["src","./assets/images/logo-icon.png","alt","Home"],["src","./assets/images/logo-text.png","alt","Home"],[1,"box-title","m-t-40","m-b-0"],[1,"form-group","m-t-20"],[1,"col-xs-12"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"form-group"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control"],["type","password","placeholder","Confirmar contrase\xf1a","formControlName","password2",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","terminos"],["for","checkbox-signup"],["href","#"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/auth/login",1,"text-info","m-l-5"],[1,"form-text","text-danger"]],template:function(o,i){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return i.onRegister()}),e.TgZ(4,"a",4),e._UZ(5,"img",5)(6,"br")(7,"img",6),e.qZA(),e.TgZ(8,"h3",7),e._uU(9," Registrate ahora "),e.qZA(),e.TgZ(10,"small"),e._uU(11,"Crea una cuenta y disfruta"),e.qZA(),e.TgZ(12,"div",8)(13,"div",9),e._UZ(14,"input",10),e.YNc(15,F,2,1,"span",11),e.qZA()(),e.TgZ(16,"div",12)(17,"div",9),e._UZ(18,"input",13),e.YNc(19,T,2,0,"span",11),e.qZA()(),e.TgZ(20,"div",12)(21,"div",9),e._UZ(22,"input",14),e.YNc(23,y,2,0,"span",11),e.qZA()(),e.TgZ(24,"div",12)(25,"div",9),e._UZ(26,"input",15),e.YNc(27,A,2,0,"span",11),e.qZA()(),e.TgZ(28,"div",16)(29,"div",17)(30,"div",18),e._UZ(31,"input",19),e.TgZ(32,"label",20),e._uU(33," Estoy de acuerdo con los "),e.TgZ(34,"a",21),e._uU(35,"Terminos"),e.qZA()(),e.YNc(36,I,2,0,"span",11),e.qZA()()(),e.TgZ(37,"div",22)(38,"div",9)(39,"button",23),e._uU(40," Registrarse "),e.qZA()()(),e.TgZ(41,"div",24)(42,"div",25)(43,"p"),e._uU(44," \xbfYa tienes una cuenta? "),e.TgZ(45,"a",26)(46,"b"),e._uU(47,"Iniciar Sesi\xf3n"),e.qZA()()()()()()()()()),2&o&&(e.xp6(3),e.Q6J("formGroup",i.registerForm),e.xp6(12),e.Q6J("ngIf",i.isInvalidField("nombre")),e.xp6(4),e.Q6J("ngIf",i.isInvalidField("email")),e.xp6(4),e.Q6J("ngIf",i.isInvalidField("password")),e.xp6(4),e.Q6J("ngIf",i.isInvalidField("password2")),e.xp6(9),e.Q6J("ngIf",i.isInvalidField("terminos")))},dependencies:[m.O5,l.rH,n._Y,n.Fj,n.Wl,n.JJ,n.JL,n.sg,n.u],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}"]})}return t})()},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",component:a(8162).v}]}];let q=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#r=this.\u0275inj=e.cJS({imports:[l.Bz.forChild(k),l.Bz]})}return t})(),w=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#r=this.\u0275inj=e.cJS({imports:[m.ez,q,n.UX]})}return t})()}}]);